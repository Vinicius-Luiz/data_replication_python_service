{
    "task": {
        "task_name": "cdc_department",
        "replication_type": "cdc",
        "interval_seconds": 3,
        "create_table_if_not_exists": true,
        "full_load_settings": {
            "recreate_table_if_exists": true,
            "truncate_before_insert": true
        },
        "cdc_settings": {
            "mode": "scd2",
            "scd2_settings": {
                "start_date_column_name": "scd_start_date",
                "end_date_column_name": "scd_end_date",
                "current_column_name": "scd_current",
                "date_type": "timestamp"
            }
        }
    },
    "tables": [
        {
            "schema_name": "employees",
            "table_name": "department",
            "priority": 0
        }
    ],
    "filters": [],
    "transformations": [
        {
            "table_info": {
                "schema_name": "employees",
                "table_name": "department"
            },
            "settings": {
                "transformation_type": "modify_table_name",
                "description": "Alterando nome da tabela para histórico",
                "contract": {
                    "target_table_name": "department_history"
                },
                "priority": 0
            }
        },
        {
            "table_info": {
                "schema_name": "employees",
                "table_name": "department"
            },
            "settings": {
                "transformation_type": "create_column",
                "description": "Carimbando data de sincronização",
                "contract": {
                    "operation": "literal",
                    "new_column_name": "user_operation",
                    "value": "python",
                    "value_type": "varchar"
                },
                "priority": 0
            }
        }
    ]
}